{% extends "layout.njk" %}

{% set pageTitle = site.title ~ " Â· " ~ (author.profile.display_name or author.profile.name or author.npub) %}
{% set pageDescription = author.profile.about or site.description %}
{% set canonicalUrl = site.base_url ~ "/author/" %}
{% set ogType = "profile" %}
{% set ogImage = author.profile.picture or "" %}

{% block content %}
  <section class="rounded-xl border border-slate-800 bg-slate-900/50 p-6">
    <div class="flex items-center gap-4">
      {% if author.profile.picture %}
        <img class="h-16 w-16 rounded-full object-cover" src="{{ author.profile.picture }}" alt="Profile picture" />
      {% endif %}
      <div>
        <h1 class="text-2xl font-semibold text-white">{{ author.profile.display_name or author.profile.name or author.npub }}</h1>
        <p class="text-sm text-slate-400">{{ author.npub }}</p>
      </div>
    </div>
    {% if author.profile.about %}
      <p class="mt-4 text-slate-200">{{ author.profile.about }}</p>
    {% endif %}
  </section>

  <div class="mt-8 space-y-6">
    {% for article in articles %}
      <article class="rounded-xl border border-slate-800 bg-slate-900/50 p-6">
        <h2 class="text-2xl font-semibold text-white">
          <a href="/{{ article.slug }}.html">{{ article.title }}</a>
        </h2>
        <p class="mt-2 text-sm text-slate-400">{{ (article.published_at * 1000) | date("Y-m-d") }}</p>
        <p class="mt-3 text-slate-200">{{ article.summary }}</p>
      </article>
    {% endfor %}
  </div>
{% endblock %}
